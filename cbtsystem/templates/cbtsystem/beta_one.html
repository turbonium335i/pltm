<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Digital SAT</title>

    <!--    <link rel="shortcut icon" type="image/png"-->
    <!--          href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMS41IC0xMC4yMzE3NCAyMyAyMC40NjM0OCI+CiAgPHRpdGxlPlJlYWN0IExvZ288L3RpdGxlPgogIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIyLjA1IiBmaWxsPSIjNjFkYWZiIi8+CiAgPGcgc3Ryb2tlPSIjNjFkYWZiIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIi8+CiAgICA8ZWxsaXBzZSByeD0iMTEiIHJ5PSI0LjIiIHRyYW5zZm9ybT0icm90YXRlKDYwKSIvPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIiB0cmFuc2Zvcm09InJvdGF0ZSgxMjApIi8+CiAgPC9nPgo8L3N2Zz4K">-->
    <!--    -->

    <!-- Bootstrap icons-->

    <link rel="shortcut icon" type="image/png" href="https://i.postimg.cc/sxXLWRys/logo-plativ2.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <script src="https://code.jquery.com/jquery-3.5.1.js"
        integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <style>
        .choice {
            color: black;
        }

        .highlighter {
            background: gold;
        }

        .progresscolor {
            background-color: #0f5dac
        }

        .crossout {
            text-decoration: line-through;
            cursor: pointer;
            color: #a9a9a9;
        }

        @media (min-width: 768px) {
            #endborder {
                border-right-style: inset;
                border-color: #f5f5f5;
                border-width: 1px;
            }
        }

        .dottedBox {
            border-style: dotted;
            border-color: silver;
            border-width: 2px;
        }

        .navbar2 {
            overflow-y: scroll;
            overflow-x: hidden;
            background-color: white;
            position: fixed;
            bottom: 0;
            width: 100%;
            height: 0px;
            transition: 0.5s;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
        <div class="container-fluid">
                 <a class="navbar-brand text-light" href="{% url 'index' %}">
            <img src="https://i.postimg.cc/sxXLWRys/logo-plativ2.png" alt="" width="30" height='auto'>
            Platinum Academy SAT
        </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="{% url 'index' %}">Beta Mode</a>
                    </li>

                </ul>
            </div>
        </div>
    </nav>

    <div class="container my-3">
        <div class="d-flex justify-content-between pb-1">
            <span class="fw-bold h5">Reading & Writing Module 1</span>
            <div>
                <!-- <span class="border border-dark rounded px-1 mb-1 me-1" onclick="fullscreen()" style="cursor: pointer;">
                    <i class="bi bi-window-fullscreen"></i> F11
                </span> -->
                <span class="border border-dark rounded px-1 mb-1 text-center" onclick="timerFunction()"
                    style="cursor: pointer"><i class="bi bi-clock-history timerOn" id="timer"></i> Timer
                </span>
                <div id="openbtn" onclick="openNav()" class="float-end ms-1" style="cursor: pointer">
                    <i class="bi bi-three-dots-vertical border border-dark rounded text-dark"></i>
                </div>
                <div id="openbtn" onclick="showcalc()" class="float-end ms-1" style="cursor: pointer">
                    <i class="bi bi-calculator-fill border border-dark rounded text-dark"></i>
                </div>

            </div>
        </div>
        <div id="demo" class="text-center fw-bold">00:00:00</div>
        <div class="container">
            <div class="progress bg-secondary my-3 rounded-0" style="height: 5px">
                <div class="progress-bar progresscolor" role="progressbar" style="width: 10%" aria-valuenow="25"
                    aria-valuemin="0" aria-valuemax="100"></div>
            </div>

            <br />
            <div class="row">
                <div class="col-12 col-md-6" id="endborder">
                    <div class="mb-5 py-4 fw-bold" id="question">
                        Along the highway <u>is</u> a dog and a cat.
                    </div>
                    <button class="btn py-2 btn-outline-warning text-dark" id="clear" onclick="clean()">
                        <i class="bi bi-eraser"></i> Highlights
                    </button>
                </div>
                <div class="col-12 col-md-6">
                    <div class="d-flex justify-content-between mt-4 mb-2 ms-lg-5 fw-bold"
                        style="background-color: #d3d3d3; border-bottom: dotted gray">
                        <div class="bg-dark text-light px-1" span id="qCount"></div>
                        <div class="pe-1">
                            <i class="bi bi-bookmark-fill" id="bookmark" onclick="bookmarktag()"></i>
                        </div>
                    </div>

                    <div class="mb-2 mx-lg-5 py-2 ps-1 fw-bold" id="qprompt">
                        Which correctly completes the sentence?
                    </div>

                    <div class="d-flex">
                        <div class="flex-grow-1 border rounded mb-2 ms-lg-5 py-2 ps-2" id="a" style="cursor: pointer">
                            A. Thisis a NO CHANGE.
                        </div>

                        <div class="mb-2 crossout text-secondary d-flex align-items-center">
                            <span class="fw-bold choice text-secondary px-1 ms-1" onclick="cross(a)">A</span>
                        </div>
                    </div>
                    <div class="d-flex">
                        <div class="flex-grow-1 border rounded mb-2 ms-lg-5 py-2 ps-2" id="b" style="cursor: pointer">
                            A. Thisis a NO CHANGE.
                        </div>

                        <div class="mb-2 crossout text-secondary d-flex align-items-center">
                            <span class="fw-bold choice text-secondary px-1 ms-1" onclick="cross(b)">B</span>
                        </div>
                    </div>
                    <div class="d-flex">
                        <div class="flex-grow-1 border rounded mb-2 ms-lg-5 py-2 ps-2" id="c" style="cursor: pointer">
                            A. Thisis a NO CHANGE.
                        </div>

                        <div class="mb-2 crossout text-secondary d-flex align-items-center">
                            <span class="fw-bold choice text-secondary px-1 ms-1" onclick="cross(c)">C</span>
                        </div>
                    </div>
                    <div class="d-flex">
                        <div class="flex-grow-1 border rounded mb-2 ms-lg-5 py-2 ps-2" id="d" style="cursor: pointer">
                            A. Thisis a NO CHANGE.
                        </div>

                        <div class="mb-2 crossout text-secondary d-flex align-items-center">
                            <span class="fw-bold choice text-secondary px-1 ms-1" onclick="cross(d)">D</span>
                        </div>
                    </div>
                    <div class="text-end me-lg-3 my-4">
                        <button type="button" class="btn btn-outline-success rounded-pill" id="read">
                            <i class="bi bi-soundwave"></i>
                        </button>

                        <button type="button" class="btn btn-outline-primary rounded-pill" id="next">
                            Next <i class="bi bi-arrow-right-circle"></i>
                        </button>

                        <br />
                    </div>
                </div>
            </div>

        </div>



        <div class="container d-none" id="solution"></div>


        <div class="d-flex justify-content-around my-5">
            <div id="calculatorx" style="width: 750px; height: 500px;" class="d-none"> </div>
        </div>

    </div>
    <div class="navbar2" id="mySidebar">
        <div class="bg-secondary py-2 text-light mb-3">
            <span class="mx-3 pt-2 text-light">Reading & Writing Module 1</span>
            <p class="text-warning float-end mx-3" href="#contact" onclick="closeNav()" style="cursor: pointer">
                CLOSE X
            </p>
        </div>

        <div class="border rounded container py-2">
            <div class="d-flex justify-content-center my-2">
                <div class="ms-3">
                    Current <i class="bi bi-geo-alt-fill text-dark"></i>
                </div>
                <div class="ms-3">
                    Unanswered <i class="bi bi-bounding-box-circles"></i>
                </div>
                <div class="ms-3">
                    Marked <i class="i bi-bookmark-fill text-danger"></i>
                </div>
            </div>
            <hr />

            <div id="questionNoBox" class="d-flex justify-content-center flex-wrap">
                <div class="border border-danger p-1 m-1">
                    <i class="bi bi-geo-alt-fill text-dark"></i> 1
                </div>
                <div class="bg-primary p-1 m-1 text-light">
                    <i class="bi bi-bookmark-fill text-danger"></i> 2
                </div>
            </div>
        </div>
        <div class="py-3 pe-2 pe-sm-5">
            <button type="button" class="btn btn-sm btn-outline-primary rounded-pill float-end"
                onclick="window.location.href='/beta_two' ;">
                End Section
            </button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

    <script>
        var apiJson = [
            {
                id: 1,
                question:
                    "A study by a team including finance professor Madhu Veeraraghavan suggests that exposure to sunshine during the workday can lead to overly optimistic behavior. Using data spanning from 1994 to 2010 for a set of US companies, the team compared over 29,000 annual earnings forecasts to the actual earnings later reported by those companies. The team found that the greater the exposure to sunshine at work in the two weeks before a manager submitted an earnings forecast, the more the manager’s forecast exceeded what the company actually earned that year. ",
                choice1: "NO CHANGE",
                choice2: "myself, I could",
                choice3: "myself, so",
                choice4: "myself; I could",
                correct: "myself; I could",
                difficulty: 1,
                tag: "Sentence Structure",
                solution:
                    'The original sentence is a run on.  (D) "myself; I could" is the best answer because it appropriately uses a semicolon to punctuate the break between two independent clauses.',
            },
            {
                id: 2,
                question:
                    "Since Aatorx is too ear-piercingly loud; Seraphine cannot fall asleep",
                choice1: "NO CHANGE",
                choice2: "loud; therefore Seraphine",
                choice3: "loud, Seraphine",
                choice4: "loud Seraphine",
                correct: "loud, Seraphine",
                difficulty: 2,
                tag: "Sentence Structure",
                solution:
                    'The original sentence incorrectly uses a semicolon to punctuate the break between a dependent clause and an independent clause.  (C) "loud, Seraphine" is the best answer because it appropriately uses a comma to punctuate the break between a dependent clause and an independent clause.',
            },
            {
                id: 3,
                question:
                    "Marcus Kim, whose polymer sculptures often portray sub tropical scenes such as snorkeling or sailing, drawing his inspiration from Palawan stone carvings he saw while vacationing on Coron Island.",
                choice1: "NO CHANGE",
                choice2: "drew",
                choice3: "taking",
                choice4: "having drew",
                correct: "drew",
                difficulty: 1,
                tag: "Sentence Structure",
                solution:
                    'The original sentence is a fragment.  (B) "drew" is the best answer because it turns the fragment into a sentence.',
            },
            {
                id: 4,
                question:
                    "Won Bin pretended to be interested in his girlfriend’s hobby he secretly wished he had stayed home.",
                choice1: "NO CHANGE",
                choice2: "hobby; and he",
                choice3: "hobby; he",
                choice4: "hobby; so he",
                correct: "hobby; he",
                difficulty: 2,
                tag: "Sentence Structure",
                solution:
                    'The original sentence is a run on.  (C) "hobby; he" is the best answer because it appropriately uses a semi colon to punctuate the break between two independent clauses.',
            },
            {
                id: 5,
                question:
                    "Feeling that the board of directors had too hastily settled several crucial issues: Chairman Wei Bo asked that further deliberation be given to his subordinate’s unconventional proposal.",
                choice1: "NO CHANGE",
                choice2: "issues, Chairman",
                choice3: "issues Chairman",
                choice4: "issues; Chairman",
                correct: "issues, Chairman",
                difficulty: 1,
                tag: "Sentence Structure",
                solution:
                    'The original sentence incorrectly uses a colon at the end of dependent clause.  (B) "issues, Chairman" is the best answer because it appropriately uses a comma to punctuate the break between the dependent clause (Feeling that… issues) and the independent clause (Chairman Wei Bo … proposal.)',
            },
            {
                id: 28,
                question:
                    "In his actions you can see that Chong not only understood the challenge and also the hidden lesson of his master.",
                choice1: "NO CHANGE",
                choice2: "but",
                choice3: "as",
                choice4: "for",
                correct: "but",
                difficulty: 2,
                tag: "Transition",
                solution:
                    "The underlined portion of the sentence creates a transition error.  Choice B is the best answer because it properly introduces a correlative conjunction (not only understood the challenge but also the hidden lesson of his master.).  “not only . . . but also . . .” is the logical and coherent choice to communicate the correlative conjunction in this sentence. \r\n  \r\nChoices A, C, and D are incorrect because none of the transitions they offer logically fits the content that precedes or follows the proposed choice.",
            },
            {
                id: 29,
                question:
                    "Unlike other members of the bear family, which rely at least in part on a diet of leaves, fruits, roots, or other vegetation, but polar bears are primarily carnivorous, and eat mainly meat.",
                choice1: "NO CHANGE",
                choice2: "but polar bear is",
                choice3: "polar bears, which are",
                choice4: "polar bears are",
                correct: "polar bears are",
                difficulty: 2,
                tag: "Transition",
                solution:
                    "The underlined portion of the sentence creates a transition error and creates two dependent clauses.  Choice C is the best answer because it properly removes the “but” to create an independent clause.",
            },
            {
                id: 30,
                question:
                    "A transformer is a deep learning model that adopts the mechanism of self-attention, differentially weighting the significance of each part of the input data. It is used primarily in the fields of natural language processing (NLP)[1] and computer vision (CV).[2] Like recurrent neural networks (RNNs), transformers are designed to process sequential input data, such as natural language, with applications towards tasks such as translation and text summarization. However, unlike RNNs, transformers process the entire input all at once. The attention mechanism provides context for any position in the input sequence. For example, if the input data is a natural language sentence, the transformer does not have to process one word at a time. This allows for more parallelization than RNNs and therefore reduces training times.[1] Transformers were introduced in 2017 by a team at Google Brain[1] and are increasingly the model of choice for NLP problems,[3] replacing RNN models such as long short-term memory (LSTM). The additional training parallelization allows training on larger datasets. This led to the development of pretrained systems such as BERT (Bidirectional Encoder Representations from Transformers) and GPT (Generative Pre-trained Transformer), which were trained with large language datasets, such as the Wikipedia Corpus and Common Crawl, and can be fine-tuned for specific tasks.[4][5]",
                choice1: "NO CHANGE",
                choice2: "as well as",
                choice3: "but also",
                choice4: "in addition",
                correct: "but also",
                difficulty: 3,
                tag: "Transition",
                solution:
                    "The underlined portion of the sentence creates a transition error.  Choice C is the best answer because it properly introduces an addition (not only an intriguing tale of love and betrayal but also evidence of the complexity of cross-cultural romances).  “not only . . . but also . . .” is the logical and coherent choice to communicate the addition in this sentence.\r\nChoices A, B, and D are incorrect because none of the transitions they offer logically fits the content that precedes or follows the proposed choice.",
            },
        ];

        var grammarApi = ["api empty"];
        var grammarOutput = [];

        var s = document.getElementById("solution");

        function showSolution() {
            s.classList.remove("d-none");
        }

        function hideSolution() {
            s.classList.add("d-none");
        }

        var a = document.getElementById("a");
        a.addEventListener("click", function () {
            checkAnswer(a);
        });

        var b = document.getElementById("b");
        b.addEventListener("click", function () {
            checkAnswer(b);
        });

        var c = document.getElementById("c");
        c.addEventListener("click", function () {
            checkAnswer(c);
        });

        var d = document.getElementById("d");
        d.addEventListener("click", function () {
            checkAnswer(d);
        });

        function cross(x) {
            x.classList.toggle("crossout");
        }

        function showcalc() {
            document.getElementById("calculatorx").classList.toggle("d-none");
            var element = document.getElementById("calculatorx");
            var headerOffset = 50;
            var elementPosition = element.offsetTop - headerOffset;
            var currentPosition = window.pageYOffset;
            var targetPosition = elementPosition > currentPosition ? elementPosition : currentPosition;

            window.scrollTo({
                top: targetPosition,
                behavior: "smooth"
            });
        }

        var btag = document.getElementById("bookmark");
        function bookmarktag() {
            var btag = document.getElementById("bookmark");
            btag.classList.toggle("text-danger");
        }

        var progressDone = 0;
        var currentQuestion = [];
        function checkAnswer(ans) {
            console.log(currentQuestion.correct);
            console.log(ans.dataset.id);
            progressDone += 10;

            a.classList.remove("crossout");
            b.classList.remove("crossout");
            c.classList.remove("crossout");
            d.classList.remove("crossout");

            // get code from vtest js

            if (ans.dataset.id === currentQuestion.correct) {
                ans.classList.remove("border-dark");
                ans.classList.toggle("bg-success");
                ans.classList.toggle("border-success");
            } else {
                cA = document.getElementById(correctChoice);
                ans.classList.remove("border-dark");
                cA.classList.remove("border-dark");
                cA.classList.add("fw-bold", "border-success", "border-3");
                ans.classList.toggle("bg-secondary");
                ans.classList.toggle("border-danger");
                console.log(correctChoice);
            }

            showSolution();
            document
                .getElementsByClassName("progress-bar")[0]
                .setAttribute("style", "width:" + progressDone + "%");
        }

        var choiceA = "A";
        var choiceB = "B";
        var choiceC = "C";
        var choiceD = "D";
        var correctChoice = "X";

        var q = 0;
        var apiLen = apiJson.length;
        var qbox = document.getElementById("question");
        var cQuestion = "";

        function loadQuestion(q) {
            a.classList.remove("crossout");
            b.classList.remove("crossout");
            c.classList.remove("crossout");
            d.classList.remove("crossout");
            btag.classList.remove("text-danger");

            // clear highlighting
            var qprompt = document.getElementById("qprompt");
            qprompt.innerHTML = "Which correctly completes the sentence?";

            var randomItem = apiJson[Math.floor(Math.random() * apiJson.length)];

            currentQuestion = randomItem;
            choiceA = randomItem.choice1;
            choiceB = randomItem.choice2;
            choiceC = randomItem.choice3;
            choiceD = randomItem.choice4;

            qbox.innerHTML = randomItem.question;
            cQuestion = randomItem.question;

            document.getElementById("a").innerHTML =
                '<span class="fw-bold choice border border-dark px-1 rounded-circle" >A</span>&nbsp;&nbsp;' +
                randomItem.choice1;
            document.getElementById("a").classList.add("border-dark");
            document.getElementById("b").innerHTML =
                '<span class="fw-bold choice border border-dark px-1 rounded-circle" >B</span>&nbsp;&nbsp;' +
                randomItem.choice2;
            document.getElementById("b").classList.add("border-dark");
            document.getElementById("c").innerHTML =
                '<span class="fw-bold choice border border-dark px-1 rounded-circle" >C</span>&nbsp;&nbsp;' +
                randomItem.choice3;
            document.getElementById("c").classList.add("border-dark");
            document.getElementById("d").innerHTML =
                '<span class="fw-bold choice border border-dark px-1 rounded-circle" >D</span>&nbsp;&nbsp;' +
                randomItem.choice4;
            document.getElementById("d").classList.add("border-dark");

            a.dataset.id = randomItem.choice1;
            b.dataset.id = randomItem.choice2;
            c.dataset.id = randomItem.choice3;
            d.dataset.id = randomItem.choice4;

            if (randomItem.choice1 === randomItem.correct) {
                correctChoice = "a";
            } else if (randomItem.choice2 === randomItem.correct) {
                correctChoice = "b";
            } else if (randomItem.choice3 === randomItem.correct) {
                correctChoice = "c";
            } else if (randomItem.choice4 === randomItem.correct) {
                correctChoice = "d";
            }

            document.getElementById("solution").innerHTML =
                "Solution: " +
                randomItem.solution +
                `<h6 class="text-primary my-3  ">


                    <a href="https://www.youtube.com/channel/UCfpCbdsDTtfJHCNUctWKBOw" class="text-decoration-none"  target="_blank">${randomItem.tag}</a>


                    </h6>`;
            document.getElementById("qCount").innerHTML = randomItem.id;
        }

        loadQuestion(q);

        document.getElementById("next").addEventListener("click", updateQuestion);

        function updateQuestion() {
            a.classList.remove(
                "bg-success",
                "border-success",
                "bg-secondary",
                "border-secondary",
                "border-danger",
                "border-dark",
                "fw-bold",
                "border-3"
            );
            b.classList.remove(
                "bg-success",
                "border-success",
                "bg-secondary",
                "border-secondary",
                "border-danger",
                "border-dark",
                "fw-bold",
                "border-3"
            );
            c.classList.remove(
                "bg-success",
                "border-success",
                "bg-secondary",
                "border-secondary",
                "border-danger",
                "border-dark",
                "fw-bold",
                "border-3"
            );
            d.classList.remove(
                "bg-success",
                "border-success",
                "bg-secondary",
                "border-secondary",
                "border-danger",
                "border-dark",
                "fw-bold",
                "border-3"
            );
            hideSolution();

            q += 1;
            loadQuestion(q);
        }

        var timeLeft = 300000;

        var countDownDate = Date.now() + timeLeft;
        var x = setInterval(function () {
            var now = new Date().getTime();
            var distance = countDownDate - now;
            var hours = Math.floor(
                (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
            );
            var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            var seconds = Math.floor((distance % (1000 * 60)) / 1000);

            if (hours < 10) {
                hours = "0" + hours;
            }
            if (minutes < 10) {
                minutes = "0" + minutes;
            }
            if (seconds < 10) {
                seconds = "0" + seconds;
            }

            document.getElementById("demo").innerHTML =
                hours + ":" + minutes + ":" + seconds + "";

            if (distance < 295000) {
                document.getElementById("demo").classList.add("text-danger");
            }

            if (distance < 0) {
                clearInterval(x);
                document.getElementById("demo").innerHTML = "TIME UP";
                // window.location.href = '/index.html'
            }

            timeLeft -= 1000;
        }, 1000);

        function timerFunction() {
            var timer = document.getElementById("timer");
            var demo = document.getElementById("demo");

            if (timer.classList.contains("timerOn")) {
                demo.style.display = "none";
                timer.classList.remove("timerOn");
            } else {
                demo.style.display = "block";
                timer.classList.add("timerOn");
            }
        }

        // Init SpeechSynth API
        const synth = window.speechSynthesis;

        // DOM Elements

        const textInput = document.querySelector("#question");
        const readBtn = document.querySelector("#read");

        //Browser identifier
        // Firefox 1.0+
        var isFirefox = typeof InstallTrigger !== "undefined";

        // Chrome 1+
        var isChrome = !!window.chrome && !!window.chrome.webstore;

        // Init voices array
        let voices = [];

        const getVoices = () => {
            voices = synth.getVoices();

            // Loop through voices and create an option for each one
            voices.forEach((voice) => {
                // Create option element
                const option = document.createElement("option");
                // Fill option with voice and language
                option.textContent = voice.name + "(" + voice.lang + ")";

                // Set needed option attributes
                option.setAttribute("data-lang", voice.lang);
                option.setAttribute("data-name", voice.name);
            });
        };

        //Line 35, 36 causes voice list duplication
        getVoices();
        if (synth.onvoiceschanged !== undefined) {
            synth.onvoiceschanged = getVoices;
        }

        //Fix for duplication, run code depending on the browser
        if (isFirefox) {
            getVoices();
        }
        if (isChrome) {
            if (synth.onvoiceschanged !== undefined) {
                synth.onvoiceschanged = getVoices;
            }
        }

        // Speak
        const speak = () => {
            // Check if speaking
            if (synth.speaking) {
                console.error("Already speaking...");
                return;
            }
            if (textInput.value !== "") {
                // Get speak text
                const speakText = new SpeechSynthesisUtterance(cQuestion);

                // Speak end
                speakText.onend = (e) => {
                    console.log("Done reading...");
                };

                // Speak error
                speakText.onerror = (e) => {
                    console.error("Something went wrong");
                };

                // Speak
                synth.speak(speakText);
            }
        };

        // EVENT LISTENERS

        // Text form submit
        readBtn.addEventListener("click", (e) => {
            e.preventDefault();
            speak();
        });
    </script>
    <script>
        var flag = 0,
            element = document;
        element.addEventListener(
            "touchstart",
            function () {
                flag = 0;
            },
            false
        );
        element.addEventListener(
            "touchmove",
            function () {
                flag = 1;
            },
            false
        );
        element.addEventListener(
            "touchend",
            function () {
                if (flag === 1) {
                    getSelText();
                }
            },
            false
        );

        var flag = 0,
            element = document;
        element.addEventListener(
            "mousedown",
            function () {
                flag = 0;
            },
            false
        );
        element.addEventListener(
            "mousemove",
            function () {
                flag = 1;
            },
            false
        );
        element.addEventListener(
            "mouseup",
            function () {
                if (flag === 1) {
                    getSelText();
                }
            },
            false
        );

        // document.addEventListener("selectionchange", function (e) {
        //     //do something, e.g. document.getSelection()
        //     alert(e)
        // });

        function getSelText() {
            var sel = window.getSelection
                ? window.getSelection()
                : document.selection.createRange(); // FF : IE
            if (sel.getRangeAt) {
                // thats for FF
                var range = sel.getRangeAt(0);
                var newNode = document.createElement("span");
                newNode.setAttribute("class", "highlighter");
                range.surroundContents(newNode);
            } else {
                //and thats for IE7
                sel.pasteHTML(
                    '<span class="highlighter">' + sel.htmlText + "</span>"
                );
            }
        }

        function clean() {
            const elements = document.querySelectorAll("*");
            elements.forEach((element) => {
                element.classList.remove("highlighter");
            });
            var text = document.getElementById("question");
            text.innerHTML = cQuestion;

            // text.style.backgroundColor = "green";
        }

        var open = false;

        function closeNav() {
            document.getElementById("mySidebar").style.height = "0px";
            open = false;
        }

        function openNav() {
            if (open == true) {
                closeNav();
            } else {
                document.getElementById("mySidebar").style.height = "40vh";
                open = true;
            }
        }

        openNav();
    </script>

    <!-- <div class="border border-danger p-2 m-1"><i class="bi bi-geo-alt-fill text-dark"></i> 1 </div>
<div class="bg-primary p-2 m-1 text-light"><i class="bi bi-bookmark-fill text-danger"></i> 2 </div> -->

    <script>
        let parent = document.querySelector("#questionNoBox");


        function loadInputs() {



            for (let i = 2; i < 27; i++) {
                let p = document.createElement("div");
                p.classList = "dottedBox p-1 m-1";
                p.style = "cursor:pointer";
                p.setAttribute("id", `a${i}`);
                p.setAttribute("onclick", `gotoquestion(${i})`);
                p.textContent = `${i + 1}`;

                let pointer = document.createElement("i");
                // pointer.textContent = i
                pointer.classList = "bi bi-geo-alt-fill text-dark d-none";
                pointer.setAttribute("id", `pointer${i}`);
                pointer.setAttribute("data-icon", i);
                p.appendChild(pointer);

                parent.appendChild(p);
            }
        }

        loadInputs();

        function gotoquestion(i) {
            console.log(i);
            var gtq = document.getElementById(`pointer${i}`);
            gtq.classList.remove("d-none");
            closeNav();
        }
    </script>

    <script src="https://www.desmos.com/api/v1.7/calculator.js?apiKey=dcb31709b452b1cf9dc26972add0fda6"></script>
    <script>
        var elt = document.getElementById('calculatorx');
        var calculator = Desmos.GraphingCalculator(elt);
        calculator.setExpression({ id: 'graph1', latex: 'y=x^2' });
    </script>
</body>

</html>